'use strict';var ApplicationConfiguration=function(){var e='mean';return{applicationModuleName:e,applicationModuleVendorDependencies:['ngResource','ngAnimate','ngMessages','ui.router','ui.bootstrap','ui.utils','angularFileUpload'],registerModule:function(r,o){angular.module(r,o||[]),angular.module(e).requires.push(r)}}}();'use strict',angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(['$locationProvider','$httpProvider',function(e,t){e.html5Mode(!0).hashPrefix('!'),t.interceptors.push('authInterceptor')}]),angular.module(ApplicationConfiguration.applicationModuleName).run(['$rootScope','$state','Authentication',function(e,t,s){function r(o,l){o.data&&o.data.ignoreState||(t.previous={state:o,params:l,href:t.href(o,l)})}e.$on('$stateChangeStart',function(o,l,n){if(l.data&&l.data.roles&&0<l.data.roles.length){var m=!1;l.data.roles.forEach(function(u){if(void 0!==s.user.roles&&-1!==s.user.roles.indexOf(u))return m=!0,!0}),m||(o.preventDefault(),s.user!==void 0&&'object'==typeof s.user?t.go('forbidden'):t.go('authentication.signin').then(function(){r(l,n)}))}}),e.$on('$stateChangeSuccess',function(o,l,n,a,d){r(a,d)})}]),angular.element(document).ready(function(){if(window.location.hash&&'#_=_'===window.location.hash)if(window.history&&history.pushState)window.history.pushState('',document.title,window.location.pathname);else{var e={top:document.body.scrollTop,left:document.body.scrollLeft};window.location.hash='',document.body.scrollTop=e.top,document.body.scrollLeft=e.left}angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),function(e){'use strict';e.registerModule('calendars')}(ApplicationConfiguration),'use strict',ApplicationConfiguration.registerModule('core'),ApplicationConfiguration.registerModule('core.admin',['core']),ApplicationConfiguration.registerModule('core.admin.routes',['ui.router']),function(e){'use strict';e.registerModule('galleries')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('joins')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('meetingminutes')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('members')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('miscs')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('newabouts')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('news')}(ApplicationConfiguration),function(e){'use strict';e.registerModule('pendingrequets')}(ApplicationConfiguration),'use strict',ApplicationConfiguration.registerModule('users',['core']),ApplicationConfiguration.registerModule('users.admin',['core.admin']),ApplicationConfiguration.registerModule('users.admin.routes',['core.admin.routes']),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'Calendar',state:'calendars.list',roles:['*']}),t.addSubMenuItem('topbar','calendars',{title:'List Calendars',state:'calendars.list'}),t.addSubMenuItem('topbar','calendars',{title:'Create Calendar',state:'calendars.create',roles:['user']})}angular.module('calendars').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(r){r.state('calendars',{abstract:!0,url:'/calendars',template:'<ui-view/>'}).state('calendars.list',{url:'',templateUrl:'modules/calendars/client/views/list-calendars.client.view.html',controller:'CalendarsListController',controllerAs:'vm',data:{pageTitle:'Calendars List'}}).state('calendars.create',{url:'/create',templateUrl:'modules/calendars/client/views/form-calendar.client.view.html',controller:'CalendarsController',controllerAs:'vm',resolve:{calendarResolve:s},data:{roles:['user','admin'],pageTitle:'Calendars Create'}}).state('calendars.edit',{url:'/:calendarId/edit',templateUrl:'modules/calendars/client/views/form-calendar.client.view.html',controller:'CalendarsController',controllerAs:'vm',resolve:{calendarResolve:t},data:{roles:['user','admin'],pageTitle:'Edit Calendar {{ calendarResolve.name }}'}}).state('calendars.view',{url:'/:calendarId',templateUrl:'modules/calendars/client/views/view-calendar.client.view.html',controller:'CalendarsController',controllerAs:'vm',resolve:{calendarResolve:t},data:{pageTitle:'Calendar {{ calendarResolve.name }}'}})}function t(r,o){return o.get({calendarId:r.calendarId}).$promise}function s(r){return new r}angular.module('calendars').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','CalendarsService'],s.$inject=['CalendarsService']}(),function(){'use strict';function e(t,s,r,o,l){var d=this;d.authentication=o,d.calendar=l,d.error=null,d.form={},d.remove=function(){r.confirm('Are you sure you want to delete?')&&d.calendar.$remove(s.go('calendars.list'))},d.save=function(m){function u(p){s.go('calendars.view',{calendarId:p._id})}function c(p){d.error=p.data.message}return m?void(d.calendar._id?d.calendar.$update(u,c):d.calendar.$save(u,c)):(t.$broadcast('show-errors-check-validity','vm.form.calendarForm'),!1)}}angular.module('calendars').controller('CalendarsController',e),e.$inject=['$scope','$state','$window','Authentication','calendarResolve']}(),function(){'use strict';function e(t,s,r){var o=this;t.user=r.user,o.calendars=s.query()}angular.module('calendars').controller('CalendarsListController',e),e.$inject=['$scope','CalendarsService','Authentication']}(),angular.module('calendars').filter('monthName',[function(){return function(e){return['January','February','March','April','May','June','July','August','September','October','November','December'][e-1]}}]),function(){'use strict';function e(t){return t('api/ical',{update:{method:'GET'}})}angular.module('calendars').factory('CalendarsService',e),e.$inject=['$resource']}(),'use strict',angular.module('core.admin').run(['Menus',function(e){e.addMenuItem('topbar',{title:'Admin',state:'admin',type:'dropdown',roles:['admin']})}]),'use strict',angular.module('core.admin.routes').config(['$stateProvider',function(e){e.state('admin',{abstract:!0,url:'/admin',template:'<ui-view/>',data:{roles:['admin']}})}]),'use strict',angular.module('core').config(['$stateProvider','$urlRouterProvider',function(e,t){t.otherwise(function(s){s.get('$state').transitionTo('not-found',null,{location:!1})}),e.state('home',{url:'/',templateUrl:'modules/core/client/views/home.client.view.html'}).state('not-found',{url:'/not-found',templateUrl:'modules/core/client/views/404.client.view.html',data:{ignoreState:!0}}).state('bad-request',{url:'/bad-request',templateUrl:'modules/core/client/views/400.client.view.html',data:{ignoreState:!0}}).state('forbidden',{url:'/forbidden',templateUrl:'modules/core/client/views/403.client.view.html',data:{ignoreState:!0}})}]),'use strict',angular.module('core').controller('FooterController',['$scope',function(){}]),'use strict',angular.module('core').controller('HeaderController',['$scope','$state','Authentication','Menus',function(e,t,s,r){e.$state=t,e.authentication=s,e.menu=r.getMenu('topbar'),e.isCollapsed=!1,e.toggleCollapsibleMenu=function(){e.isCollapsed=!e.isCollapsed},e.$on('$stateChangeSuccess',function(){e.isCollapsed=!1})}]),angular.module('core').directive('ycNavbarAffix',['$window',function(e){return{restrict:'A',link:function(t,s){var o=s[0].offsetTop;t.condition=function(){return e.pageYOffset>o},angular.element(e).bind('scroll',function(){t.$apply(function(){t.condition()?angular.element(s).addClass('navbar-affix'):angular.element(s).removeClass('navbar-affix')})})}}}]),angular.module('core').directive('ycNavbarBrandAffix',['$window',function(e){return{restrict:'A',link:function(t,s){var o=s[0].offsetTop;t.condition=function(){return e.pageYOffset>o},angular.element(e).bind('scroll',function(){t.$apply(function(){t.showSmallLogo=!0})})}}}]),'use strict',angular.module('core').controller('HomeController',['$scope','$modal','$log','Authentication','NewsService','CalendarsService','MiscsService',function(e,t,s,r,o,l,n){this;for(var d in e.authentication=r,e.user=r.user,e.whoweareText='AAW strives to empower UF women for the utmost success in each stage of their careers at the university.',e.myInterval=3e3,e.title='Home Page Edit',e.slides=[{image:'modules/core/client/img/pictures/slide5.png'}],e.miscData=n.query(),e.newslist=o.query(),e.calendarlist=l.query(),e.miscData);e.HomeUpdate=function(m){s.info('updating');var u=document.getElementById('p1').value;console.log(u);var c=document.getElementById('p2').value,p=document.getElementById('p3').value;if(''===u&&''===c&&''===p)s.info('didnt work');else{s.info('should be working');var g=m;g.data=[],''!==u&&g.data.push(u),''!==c&&g.data.push(c),''!==p&&g.data.push(p),console.log('In Function'),g.$update(function(){},function(w){e.error=w.data.message})}},e.modalHomeEdit=function(m,u){console.log('IN FUNCTION');var c=t.open({templateUrl:'modules/miscs/client/views/misc-editHome-modal-client.view.html',controller:['$scope','$modalInstance','misc',function(p,g,w){p.misc=w,p.ok=function(){g.dismiss('cancel')},p.cancel=function(){g.dismiss('cancel')}}],size:u,resolve:{misc:function(){return m}}});c.result.then(function(p){e.selected=p},function(){s.info('Modal dismissed at: '+new Date)})},e.modalUpdate=function(m,u){var p=t.open({templateUrl:'modules/core/client/views/modal-home.client.view.html',controller:['$scope','$modalInstance','text',function(g,w,v){g.newtext=v,console.log(g.newtext),g.cancel=function(){w.dismiss('cancel')},g.update=function(f){v=f,w.close(v)}}],size:m,resolve:{text:function(){return u}}});p.result.then(function(){},function(){s.info('Modal dismissed at: '+new Date)})}}]),angular.module('core').filter('monthName',[function(){return function(e){return['January','February','March','April','May','June','July','August','September','October','November','December'][e-1]}}]),'use strict',angular.module('core').directive('showErrors',['$timeout','$interpolate',function(e,t){var s=function(r,o,l,n){var a,d,m,u,c,p,g=!1,w=!1;if(u=r.$eval(l.showErrors)||{},c=u.showSuccess||!1,a=o[0].querySelector('.form-control[name]')||o[0].querySelector('[name]'),m=angular.element(a),d=t(m.attr('name')||'')(r),!d)throw'show-errors element has no child input elements with a \'name\' attribute class';var f=function(){return e(function(){o.removeClass('has-error'),o.removeClass('has-success'),w=!1},0,!1)};r.$watch(function(){return n[d]&&n[d].$invalid},function(h){return p(h)}),r.$on('show-errors-check-validity',function(h,$){if(angular.isUndefined($)||n.$name===$)return g=!0,w=!0,p(n[d].$invalid)}),r.$on('show-errors-reset',function(h,$){if(angular.isUndefined($)||n.$name===$)return f()}),p=function(h){if(o.toggleClass('has-error',w&&h),c)return o.toggleClass('has-success',w&&!h)}};return{restrict:'A',require:'^form',compile:function(r,o){if(-1===o.showErrors.indexOf('skipFormGroupCheck')&&!(r.hasClass('form-group')||r.hasClass('input-group')))throw'show-errors element does not have the \'form-group\' or \'input-group\' class';return s}}}]),'use strict',angular.module('core').factory('authInterceptor',['$q','$injector',function(e,t){return{responseError:function(s){if(!s.config.ignoreAuthModule)switch(s.status){case 401:t.get('$state').transitionTo('authentication.signin');break;case 403:t.get('$state').transitionTo('forbidden');}return e.reject(s)}}}]),'use strict',angular.module('core').service('Menus',[function(){this.defaultRoles=['user','admin'],this.menus={};var e=function(t){if(!!~this.roles.indexOf('*'))return!0;if(!t)return!1;for(var s in t.roles)for(var r in this.roles)if(this.roles[r]===t.roles[s])return!0;return!1};this.validateMenuExistance=function(t){if(t&&t.length){if(this.menus[t])return!0;throw new Error('Menu does not exist')}else throw new Error('MenuId was not provided');return!1},this.getMenu=function(t){return this.validateMenuExistance(t),this.menus[t]},this.addMenu=function(t,s){return s=s||{},this.menus[t]={roles:s.roles||this.defaultRoles,items:s.items||[],shouldRender:e},this.menus[t]},this.removeMenu=function(t){this.validateMenuExistance(t),delete this.menus[t]},this.addMenuItem=function(t,s){if(s=s||{},this.validateMenuExistance(t),this.menus[t].items.push({title:s.title||'',state:s.state||'',type:s.type||'item',class:s.class,roles:null===s.roles||'undefined'==typeof s.roles?this.defaultRoles:s.roles,position:s.position||0,items:[],shouldRender:e}),s.items)for(var r in s.items)this.addSubMenuItem(t,s.state,s.items[r]);return this.menus[t]},this.addSubMenuItem=function(t,s,r){for(var o in r=r||{},this.validateMenuExistance(t),this.menus[t].items)this.menus[t].items[o].state===s&&this.menus[t].items[o].items.push({title:r.title||'',state:r.state||'',roles:null===r.roles||'undefined'==typeof r.roles?this.menus[t].items[o].roles:r.roles,position:r.position||0,shouldRender:e});return this.menus[t]},this.removeMenuItem=function(t,s){for(var r in this.validateMenuExistance(t),this.menus[t].items)this.menus[t].items[r].state===s&&this.menus[t].items.splice(r,1);return this.menus[t]},this.removeSubMenuItem=function(t,s){for(var r in this.validateMenuExistance(t),this.menus[t].items)for(var o in this.menus[t].items[r].items)this.menus[t].items[r].items[o].state===s&&this.menus[t].items[r].items.splice(o,1);return this.menus[t]},this.addMenu('topbar',{roles:['*']})}]),'use strict',angular.module('core').service('Socket',['Authentication','$state','$timeout',function(e,t,s){this.connect=function(){e.user&&(this.socket=io())},this.connect(),this.on=function(r,o){this.socket&&this.socket.on(r,function(l){s(function(){o(l)})})},this.emit=function(r,o){this.socket&&this.socket.emit(r,o)},this.removeListener=function(r){this.socket&&this.socket.removeListener(r)}}]),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'Gallery',state:'galleries',roles:['*']})}angular.module('galleries').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(t){t.state('galleries',{url:'https://www.facebook.com/pg/UFL.AAW/photos/?ref=page_internal',controller:'',templateUrl:''}).state('galleries.album',{url:'/album',controller:'GalleriesController',templateUrl:'modules/galleries/client/views/album-gallery.client.view.html'})}angular.module('galleries').config(e),e.$inject=['$stateProvider']}(),function(){'use strict';function e(t,s,r,o,l){var d=this;d.authentication=o,d.gallery=l,d.error=null,d.form={},d.remove=function(){r.confirm('Are you sure you want to delete?')&&d.gallery.$remove(s.go('galleries.list'))},d.save=function(m){function u(p){s.go('galleries.view',{galleryId:p._id})}function c(p){d.error=p.data.message}return m?void(d.gallery._id?d.gallery.$update(u,c):d.gallery.$save(u,c)):(t.$broadcast('show-errors-check-validity','vm.form.galleryForm'),!1)},t.albumName='Album Name',t.albumDate='December 31, 2017',t.albumDescription='Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec blandit hendrerit diam, at condimentum sem lacinia at. Curabitur tincidunt malesuada sem non venenatis. Maecenas pulvinar.'}angular.module('galleries').controller('GalleriesController',e),e.$inject=['$scope','$state','$window','Authentication']}(),function(){'use strict';function e(t){var s=this;s.galleries=t.query()}angular.module('galleries').controller('GalleriesListController',e),e.$inject=['GalleriesService']}(),function(){'use strict';function e(t){return t('api/galleries/:galleryId',{galleryId:'@_id'},{update:{method:'PUT'}})}angular.module('galleries').factory('GalleriesService',e),e.$inject=['$resource']}(),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'Join Us!',state:'joins',roles:['*']})}angular.module('joins').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(t){t.state('joins',{url:'/joins',controller:'JoinsController',templateUrl:'modules/joins/client/views/view-join.client.view.html',controllerAs:'vm'}).state('payment',{url:'/payment',controller:'JoinsController',templateUrl:'modules/joins/client/views/payment-join.client.view.html'}).state('list',{url:'/list',templateUrl:'modules/joins/client/views/list-joins.client.view.html',controller:'JoinsListController',controllerAs:'vm'}).state('joins.create',{url:'/create',templateUrl:'modules/joins/client/views/form-join.client.view.html',controller:'JoinsController',controllerAs:'vm'}).state('joins.view',{url:'/:joinId',templateUrl:'modules/joins/client/views/list-join.client.view.html',controller:'JoinsController',controllerAs:'vm'})}angular.module('joins').config(e),e.$inject=['$stateProvider']}(),function(){'use strict';function e(t,s,r,o,l,n,a){var c=this;c.authentication=n,c.join=a,c.error=null,c.form={},c.remove=function(){o.confirm('Are you sure you want to delete?')&&c.join.$remove(r.go('joins.list'))},c.save=function(p){function g(v){r.go('joins.view',{joinId:v._id})}function w(v){c.error=v.data.message}return console.log('In Save'),p?void(c.join._id?c.join.$update(g,w):c.join.$save(g,w)):(console.log('Is Valid'),s.$broadcast('show-errors-check-validity','vm.form.joinForm'),!1)},c.fillApplication=function(){r.go('pendingrequets.create')},s.myInterval=3e3,s.slides=[{image:'modules/core/client/img/pictures/1.jpg',text:'Recognition and Talent'},{image:'modules/core/client/img/pictures/2.jpg',text:'Hard Work'},{image:'modules/core/client/img/pictures/3.jpg',text:'Having Fun'},{image:'modules/core/client/img/pictures/4.jpg',text:'Panels and Discussion'}]}angular.module('joins').controller('JoinsController',e),e.$inject=['$rootScope','$scope','$state','$window','$modal','$location','Authentication']}(),angular.module('joins').controller('ModalController',['$scope',function(){}]),function(){'use strict';function e(t){var s=this;s.joins=t.query()}angular.module('joins').controller('JoinsListController',e),e.$inject=['JoinsService']}(),function(){'use strict';function e(t){return t('api/joins/:joinId',{joinId:'@_id'},{update:{method:'PUT'}})}angular.module('joins').factory('JoinsService',e),e.$inject=['$resource']}(),function(){'use strict';function e(r){r.state('meetingminutes',{abstract:!0,url:'/meetingminutes',template:'<ui-view/>'}).state('meetingminutes.list',{url:'',templateUrl:'modules/meetingminutes/client/views/list-meetingminutes.client.view.html',controller:'MeetingminutesListController',controllerAs:'vm',data:{pageTitle:'Meetingminutes List'}}).state('meetingminutes.create',{url:'/create',templateUrl:'modules/meetingminutes/client/views/form-meetingminute.client.view.html',controller:'MeetingminutesController',controllerAs:'vm',resolve:{meetingminuteResolve:s},data:{roles:['user','admin'],pageTitle:'Meetingminutes Create'}}).state('meetingminutes.edit',{url:'/:meetingminuteId/edit',templateUrl:'modules/meetingminutes/client/views/form-meetingminute.client.view.html',controller:'MeetingminutesController',controllerAs:'vm',resolve:{meetingminuteResolve:t},data:{roles:['user','admin'],pageTitle:'Edit Meetingminute {{ meetingminuteResolve.name }}'}}).state('meetingminutes.view',{url:'/:meetingminuteId',templateUrl:'modules/meetingminutes/client/views/view-meetingminute.client.view.html',controller:'MeetingminutesController',controllerAs:'vm',resolve:{meetingminuteResolve:t},data:{pageTitle:'Meetingminute {{ meetingminuteResolve.name }}'}})}function t(r,o){return o.get({meetingminuteId:r.meetingminuteId}).$promise}function s(r){return new r}angular.module('meetingminutes').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','MeetingminutesService'],s.$inject=['MeetingminutesService']}(),function(){'use strict';function e(t){var s=this;s.meetingminutes=t.query()}angular.module('meetingminutes').controller('MeetingminutesListController',e),e.$inject=['MeetingminutesService']}(),function(){'use strict';function e(t,s,r,o,l){var d=this;d.authentication=o,d.meetingminute=l,d.error=null,d.form={},d.remove=function(){r.confirm('Are you sure you want to delete?')&&d.meetingminute.$remove(s.go('meetingminutes.list'))},d.save=function(m){function u(p){s.go('meetingminutes.view',{meetingminuteId:p._id})}function c(p){d.error=p.data.message}return m?void(d.meetingminute._id?d.meetingminute.$update(u,c):d.meetingminute.$save(u,c)):(t.$broadcast('show-errors-check-validity','vm.form.meetingminuteForm'),!1)}}angular.module('meetingminutes').controller('MeetingminutesController',e),e.$inject=['$scope','$state','$window','Authentication','meetingminuteResolve']}(),function(){'use strict';function e(t){return t('api/meetingminutes/:meetingminuteId',{meetingminuteId:'@_id'},{update:{method:'PUT'}})}angular.module('meetingminutes').factory('MeetingminutesService',e),e.$inject=['$resource']}(),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'Members',state:'members',type:'dropdown',roles:['*']}),t.addSubMenuItem('topbar','members',{title:'Profiles',state:'profiles'})}angular.module('members').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(r){r.state('members',{url:'/members',template:'modules/members/client/views/view-member.client.view.html'}).state('profiles',{url:'/members/profiles',templateUrl:'modules/members/client/views/view-profiles.client.view.html',controller:'ProfilesController',controllerAs:'vm'}).state('profilesModal',{url:'/members/profiles',templateUrl:'modules/members/client/views/profiles-modal.client.view.html',controller:'ProfilesController',controllerAs:'vm'}).state('members.list',{url:'',templateUrl:'modules/members/client/views/list-members.client.view.html',controller:'MembersListController',controllerAs:'vm',data:{pageTitle:'Members List'}}).state('members.create',{url:'/create',templateUrl:'modules/members/client/views/form-member.client.view.html',controller:'MembersController',controllerAs:'vm',resolve:{memberResolve:s},data:{roles:['user','admin'],pageTitle:'Members Create'}}).state('members.edit',{url:'/:memberId/edit',templateUrl:'modules/members/client/views/form-member.client.view.html',controller:'MembersController',controllerAs:'vm',resolve:{memberResolve:t},data:{roles:['user','admin'],pageTitle:'Edit Member {{ memberResolve.name }}'}}).state('members.view',{url:'/:memberId',templateUrl:'modules/members/client/views/view-member.client.view.html',controller:'MembersController',controllerAs:'vm',resolve:{memberResolve:t},data:{pageTitle:'Member {{ memberResolve.name }}'}})}function t(r,o){return o.get({memberId:r.memberId}).$promise}function s(r){return new r}angular.module('members').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','MembersService'],s.$inject=['MembersService']}(),function(){'use strict';function e(t){var s=this;s.members=t.query()}angular.module('members').controller('MembersListController',e),e.$inject=['MembersService']}(),function(){'use strict';function e(t,s,r,o,l){var d=this;d.authentication=o,d.member=l,d.error=null,d.form={},d.remove=function(){r.confirm('Are you sure you want to delete?')&&d.member.$remove(s.go('members.list'))},d.save=function(m){function u(p){s.go('members.view',{memberId:p._id})}function c(p){d.error=p.data.message}return m?void(d.member._id?d.member.$update(u,c):d.member.$save(u,c)):(t.$broadcast('show-errors-check-validity','vm.form.memberForm'),!1)}}angular.module('members').controller('MembersController',e),e.$inject=['$scope','$state','$window','Authentication','memberResolve']}(),function(){'use strict';function e(t,s,r,o,l,n,a,d,m,u,c){function p(){console.log('uploadAWS function called');var f=document.getElementById('file-input').files,h=f[0];g(h)}function g(f){var h=new XMLHttpRequest;t.newfilename=f.name,h.open('GET',`/sign-s3?file-name=${f.name}&file-type=${f.type}`),h.onreadystatechange=()=>{if(4===h.readyState)if(200===h.status){const $=JSON.parse(h.responseText);w(f,$.signedRequest,$.url)}else console.log(h.status+': '+h.statusText)},h.send()}function w(f,h,$){const b=new XMLHttpRequest;b.open('PUT',h),b.onreadystatechange=()=>{4===b.readyState&&(200===b.status?(t.newimageURL=$,console.log('AWS URL: '+$),console.log('Upload to AWS successful')):console.log(b.status+': '+b.statusText))},b.send(f)}var v=this;v.member=c,v.error=null,v.authentication=m,t.user=m.user,t.profiles=d.query(),t.newfilename=null,t.showForm=!1,t.clicked=function(){t.showForm=!t.showForm},t.createProfile=function(){console.log('Image URL createProf in Profiles is: '+a.imageURL);o.open({templateUrl:'modules/members/client/views/profiles-add-new-modal.client.view.html',controller:['$scope','$modalInstance',function(h,$){h.ok=function(){var b=document.getElementById('name').value,I=document.getElementById('description').value,y=document.getElementById('image').value;''===b||''===I||''===y?console.log(' '):$.close(h.profile)},h.cancel=function(){$.dismiss('cancel'),h.newfilename=null,h.imageURL=null}}],resolve:{profile:function(){}}});s.go('profiles')},t.ProfileUpdate=function(f){var h=document.getElementById('name').value,$=document.getElementById('description').value;if(''===h||''===$);else{null===t.newimageURL&&(t.newfilename='default.png',t.newimageURL='default.png');var b=f;b.name=document.getElementById('name').value,b.description=document.getElementById('description').value,t.showForm&&(b.filename=t.newfilename,b.imageURL=t.newimageURL),b.$update(function(){},function(I){t.error=I.data.message}),t.newfilename=null,t.newimageURL=null}},t.ProfileAdd=function(){var f=document.getElementById('name').value,h=document.getElementById('description').value;if(''===f||''===h);else{null===t.newimageURL&&(t.newfilename='default.png',t.newimageURL='default.png');var $=new d({name:f,description:h,filename:t.newfilename,imageURL:t.newimageURL});$.$save(function(){},function(b){t.error=b.data.message}),t.newfilename=null,t.newimageURL=null,s.reload()}},t.ProfileRequestAdd=function(){console.log('Image URL in Profiles is: '+t.imageURL);var f=document.getElementById('name').value,h=document.getElementById('description').value,$=document.getElementById('image').value;if(''===f||''===h||''===$);else{var b=new d({name:f,description:h,imageURL:$});b.$save(function(){},function(I){t.error=I.data.message}),t.imageURL=null,s.reload()}},v.delete=function(f){var h=f;confirm(h.name+'\'s profile will be deleted.')&&(h.$delete(function(){},function($){t.error=$.data.message}),s.reload())},v.modalUpdate=function(f,h){var $=o.open({templateUrl:'modules/members/client/views/profiles-modal.client.view.html',controller:['$scope','$modalInstance','profile',function(b,I,y){b.profile=y,b.ok=function(){I.close(b.profile)},b.cancel=function(){I.dismiss('cancel')}}],size:h,resolve:{profile:function(){return f}}});$.result.then(function(b){t.selected=b},function(){l.info('Modal dismissed at: '+new Date)})},v.modalEdit=function(f,h){var $=o.open({templateUrl:'modules/members/client/views/profiles-edit-modal.client.view.html',controller:['$scope','$modalInstance','profile',function(b,I,y){b.profile=y,b.ok=function(){var U=document.getElementById('name').value,M=document.getElementById('description').value;''===U||''===M||I.close(b.profile)},b.cancel=function(){I.dismiss('cancel'),b.newfilename=null,b.newimageURL=null}}],size:h,resolve:{profile:function(){return f}}});$.result.then(function(b){t.selected=b},function(){l.info('Modal dismissed at: '+new Date)})},v.modalAdd=function(f){var h=o.open({templateUrl:'modules/members/client/views/profiles-add-modal.client.view.html',controller:['$scope','$modalInstance',function($,b){$.ok=function(){var I=document.getElementById('name').value,y=document.getElementById('description').value;''===I||''===y?console.log(' '):b.close($.profile)},$.cancel=function(){b.dismiss('cancel'),$.newfilename=null,$.newimageURL=null}}],size:f,resolve:{profile:function(){}}});h.result.then(function($){t.selected=$},function(){l.info('Modal dismissed at: '+new Date)})},v.modalRequestAdd=function(f){console.log('Image URL in Modal Profiles is: '+t.imageURL);var h=o.open({templateUrl:'modules/members/client/views/profiles-add-new-modal.client.view.html',controller:['$scope','$modalInstance',function($,b){$.ok=function(){var I=document.getElementById('name').value,y=document.getElementById('description').value,U=document.getElementById('image').value;''===I||''===y?console.log(' '):b.close($.profile)},$.cancel=function(){b.dismiss('cancel'),$.imageURL=null}}],size:f,resolve:{profile:function(){}}});h.result.then(function($){t.selected=$},function(){l.info('Modal dismissed at: '+new Date)})},t.fillFields=function(){t.imageURL=v.member.imageURL&&'./modules/members/client/img/memberImages/uploads/'!==v.member.imageURL?v.member.imageURL:'./modules/pendingrequets/client/img/memberImages/default.png',console.log(t.imageURL)},t.uploader=new u({url:'/api/members/picture',alias:'newMemberPicture'}),t.uploader.filters.push({name:'imageFilter',fn:function(f){var $='|'+f.type.slice(f.type.lastIndexOf('/')+1)+'|';return-1!=='|jpg|png|jpeg|bmp|gif|'.indexOf($)}}),t.uploader.onAfterAddingFile=function(f){if(console.log('onAfterAddingFile'),r.FileReader){var h=new FileReader;h.readAsDataURL(f._file),h.onload=function($){n(function(){t.imageURL=$.target.result,t.uploadPicture()},0)}}},t.uploader.onSuccessItem=function(){console.log('onSuccessItem'),t.success=!0,p(),console.log('filename: '+t.newfilename)},t.uploader.onErrorItem=function(f,h){t.cancelUpload(),t.error=h.message},t.uploadPicture=function(){console.log('upload Picture'),t.success=t.error=null,t.uploader.uploadAll()},t.cancelUpload=function(){t.uploader.clearQueue()}}angular.module('members').controller('ProfilesController',e),e.$inject=['$scope','$state','$window','$modal','$log','$timeout','$rootScope','MembersService','Authentication','FileUploader']}(),function(){'use strict';function e(t){return t('api/members/:memberId',{memberId:'@_id'},{update:{method:'PUT'}})}angular.module('members').factory('MembersService',e),e.$inject=['$resource']}(),function(){'use strict';function e(r){r.state('miscs',{abstract:!0,url:'/miscs',template:'<ui-view/>'}).state('miscs.list',{url:'',templateUrl:'modules/miscs/client/views/list-miscs.client.view.html',controller:'MiscsListController',controllerAs:'vm',data:{pageTitle:'Miscs List'}}).state('miscs.create',{url:'/create',templateUrl:'modules/miscs/client/views/form-misc.client.view.html',controller:'MiscsController',controllerAs:'vm',resolve:{miscResolve:s},data:{roles:['user','admin'],pageTitle:'Miscs Create'}}).state('miscs.edit',{url:'/:miscId/edit',templateUrl:'modules/miscs/client/views/form-misc.client.view.html',controller:'MiscsController',controllerAs:'vm',resolve:{miscResolve:t},data:{roles:['user','admin'],pageTitle:'Edit Misc {{ miscResolve.name }}'}}).state('miscs.view',{url:'/:miscId',templateUrl:'modules/miscs/client/views/view-misc.client.view.html',controller:'MiscsController',controllerAs:'vm',resolve:{miscResolve:t},data:{pageTitle:'Misc {{ miscResolve.name }}'}})}function t(r,o){return o.get({miscId:r.miscId}).$promise}function s(r){return new r}angular.module('miscs').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','MiscsService'],s.$inject=['MiscsService']}(),function(){'use strict';function e(t){var s=this;s.miscs=t.query()}angular.module('miscs').controller('MiscsListController',e),e.$inject=['MiscsService']}(),function(){'use strict';function e(t,s,r,o,l){var d=this;d.authentication=o,d.misc=l,d.error=null,d.form={},d.remove=function(){r.confirm('Are you sure you want to delete?')&&d.misc.$remove(s.go('miscs.list'))},d.save=function(){function m(c){s.go('home',{miscId:c._id})}function u(c){d.error=c.data.message}''!==t.p1&&d.misc.data.push(t.p1),''!==t.p2&&d.misc.data.push(t.p2),''!==t.p3&&d.misc.data.push(t.p3),t.p1='',t.p2='',t.p3='',d.misc._id?d.misc.$update(m,u):d.misc.$save(m,u)},d.misc.data=[],t.p1='',t.p2='',t.p3=''}angular.module('miscs').controller('MiscsController',e),e.$inject=['$scope','$state','$window','Authentication','miscResolve']}(),function(){'use strict';function e(t){return t('api/miscs/:miscId',{miscId:'@_id'},{update:{method:'PUT'}})}angular.module('miscs').factory('MiscsService',e),e.$inject=['$resource']}(),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'About',state:'newabouts.list',roles:['*']})}angular.module('newabouts').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(r){r.state('newabouts',{abstract:!0,url:'/about',template:'<ui-view/>'}).state('newabouts.list',{url:'',templateUrl:'modules/newabouts/client/views/list-newabouts.client.view.html',controller:'NewaboutsListController',controllerAs:'vm',data:{pageTitle:'Newabouts List'}}).state('newabouts.create',{url:'/create',templateUrl:'modules/newabouts/client/views/form-newabout.client.view.html',controller:'NewaboutsController',controllerAs:'vm',resolve:{newaboutResolve:s},data:{roles:['user','admin'],pageTitle:'Newabouts Create'}}).state('newabouts.edit',{url:'/:newaboutId/edit',templateUrl:'modules/newabouts/client/views/form-newabout.client.view.html',controller:'NewaboutsController',controllerAs:'vm',resolve:{newaboutResolve:t},data:{roles:['user','admin'],pageTitle:'Edit Newabout {{ newaboutResolve.name }}'}}).state('newabouts.view',{url:'/:newaboutId',templateUrl:'modules/newabouts/client/views/view-newabout.client.view.html',controller:'NewaboutsController',controllerAs:'vm',resolve:{newaboutResolve:t},data:{pageTitle:'Newabout {{ newaboutResolve.name }}'}}).state('newabouts.madelynAward',{url:'/madelynAward',templateUrl:'modules/newabouts/client/views/madelynAward-newabouts.client.view.html',controller:'NewaboutsListController',controllerAs:'vm'}).state('newabouts.distinctionAward',{url:'/distinctionAward',templateUrl:'modules/newabouts/client/views/distinctionAward-newabout.client.view.html',controller:'NewaboutsListController',controllerAs:'vm'})}function t(r,o){return o.get({newaboutId:r.newaboutId}).$promise}function s(r){return new r}angular.module('newabouts').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','NewaboutsService'],s.$inject=['NewaboutsService']}(),angular.module('newabouts').directive('ycSidebarAffix',['$window',function(e){return{restrict:'A',link:function(t,s){var o=s[0].offsetTop;t.condition=function(){return e.pageYOffset>o+125},angular.element(e).bind('scroll',function(){t.$apply(function(){t.condition()?angular.element(s).addClass('sidebar-affix'):angular.element(s).removeClass('sidebar-affix')})})}}}]),function(){'use strict';function e(t,s,r,o,l,n){var a=this;t.user=o.user,t.ids=['mission','people','awards','history'],a.newabouts=r.query(),t.AwardUpdate=function(d){n.info('updating');var m=document.getElementById('description').value;if(''===m)n.info('didnt work');else{n.info('should be working');var u=d;u.text=document.getElementById('description').value,u.$update(function(){},function(c){t.error=c.data.message})}},t.AboutUpdate=function(d){n.info('updating'),'mission'==d.contentType&&(t.title='Mission');var m=document.getElementById('p1').value,u=document.getElementById('p2').value,c=document.getElementById('p3').value;if(''===m&&''===u&&''===c)n.info('didnt work');else{n.info('should be working');var p=d;p.text=[],''!==m&&p.text.push(m),''!==u&&p.text.push(u),''!==c&&p.text.push(c),console.log('In Function'),p.$update(function(){},function(g){t.error=g.data.message})}},t.AwardTableUpdate=function(d){n.info('updating');var m=document.getElementById('year').value,u=document.getElementById('name').value,c=document.getElementById('department').value;if(''===m||''===u||''===c)n.info('didnt work');else{n.info('should be working');var p=d;p.year=document.getElementById('year').value,p.name=document.getElementById('name').value,p.department=document.getElementById('department').value,p.$update(function(){},function(g){t.error=g.data.message})}},a.delete=function(d){confirm('Are you sure you want to delete this?')&&(d.$delete(function(){},function(u){t.error=u.data.message}),s.reload())},a.modalAboutEdit=function(d,m){var u=l.open({templateUrl:'modules/newabouts/client/views/newabouts-editAbout-modal-client.view.html',controller:['$scope','$modalInstance','award',function(c,p,g){c.about=g,c.ok=function(){p.dismiss('cancel')},c.cancel=function(){p.dismiss('cancel')}}],size:m,resolve:{award:function(){return d}}});u.result.then(function(c){t.selected=c},function(){n.info('Modal dismissed at: '+new Date)})},a.modalEdit=function(d,m){var u=l.open({templateUrl:'modules/newabouts/client/views/newabouts-edit-modal.client.view.html',controller:['$scope','$modalInstance','award',function(c,p,g){c.award=g,c.ok=function(){var w=document.getElementById('description').value;''===w||p.close(c.award)},c.cancel=function(){p.dismiss('cancel')}}],size:m,resolve:{award:function(){return d}}});u.result.then(function(c){t.selected=c},function(){n.info('Modal dismissed at: '+new Date)})},a.modalTableEdit=function(d,m){var u=l.open({templateUrl:'modules/newabouts/client/views/newabouts-edit-table-modal.client.view.html',controller:['$scope','$modalInstance','award',function(c,p,g){c.award=g,c.ok=function(){var w=document.getElementById('year').value,v=document.getElementById('name').value,f=document.getElementById('department').value;''===w||''===v||''===f||p.close(c.award)},c.cancel=function(){p.dismiss('cancel')}}],size:m,resolve:{award:function(){return d}}});u.result.then(function(c){t.selected=c},function(){n.info('Modal dismissed at: '+new Date)})},a.modalAdd=function(d,m){var u=l.open({templateUrl:'modules/newabouts/client/views/newabouts-add-modal.client.view.html',controller:['$scope','$modalInstance',function(c,p){c.ok=function(){var g=document.getElementById('description').value;if(''===g);else{var w=new r({text:g,award:d});w.$save(function(){},function(v){c.error=v.data.message}),p.close(c.award),s.reload()}},c.cancel=function(){p.dismiss('cancel')}}],size:m,resolve:{award:function(){}}});u.result.then(function(c){t.selected=c},function(){n.info('Modal dismissed at: '+new Date)})},a.modalTableAdd=function(d,m){var u=l.open({templateUrl:'modules/newabouts/client/views/newabouts-add-table-modal.client.view.html',controller:['$scope','$modalInstance',function(c,p){c.ok=function(){n.info('updating');var g=document.getElementById('year').value,w=document.getElementById('name').value,v=document.getElementById('department').value;if(''===g||''===w||''===v)n.info('didnt work');else{n.info('should be working'),n.info(d);var f=new r({year:g,name:w,department:v,award:d});f.$save(function(){},function(h){c.error=h.data.message}),p.close(c.award),s.reload()}},c.cancel=function(){p.dismiss('cancel')}}],size:m,resolve:{award:function(){}}});u.result.then(function(c){t.selected=c},function(){n.info('Modal dismissed at: '+new Date)})}}angular.module('newabouts').controller('NewaboutsListController',e),e.$inject=['$scope','$state','NewaboutsService','Authentication','$modal','$log']}(),function(){'use strict';function e(t,s,r,o,l,n,a){var u=this;u.authentication=o,u.newabout=a,u.error=null,u.form={},u.remove=function(){r.confirm('Are you sure you want to delete?')&&u.newabout.$remove(s.go('newabouts.list'))},u.save=function(c){function p(w){s.go('newabouts.list',{newaboutId:w._id})}function g(w){u.error=w.data.message}return console.log('IN SAVE'),console.log(u.newabout),c?void(''!==t.p1&&u.newabout.text.push(t.p1),''!==t.p2&&u.newabout.text.push(t.p2),''!==t.p3&&u.newabout.text.push(t.p3),u.newabout._id?u.newabout.$update(p,g):u.newabout.$save(p,g)):(t.$broadcast('show-errors-check-validity','vm.form.newaboutForm'),!1)},u.newabout.text=[],u.newabout.titles=['MISSION','LEADERSHIP','AWARDS','Woman of Distinction Award','HISTORY'],t.p1='',t.p2='',t.p3='',t.show=!1,t.showMission=!1,t.showAwards=!1,t.showWOD_Awards=!1,t.showLeadership=!1,t.showHistory=!1,t.hello='Hello World',t.edit=function(){t.show=!0,t.p1='',t.p2='',t.p3=''},t.AwardUpdate=function(c){l.info('updating');var p=document.getElementById('description').value;if(''===p)l.info('didnt work');else{l.info('should be working');var g=c;g.description=document.getElementById('description').value,g.$update(function(){},function(w){t.error=w.data.message})}},t.AwardTableUpdate=function(c){var p=document.getElementById('description').value;if(''===p);else{var g=c;g.description=document.getElementById('description').value,g.$update(function(){},function(w){t.error=w.data.message})}},t.AwardAdd=function(){var c=document.getElementById('description').value;if(''===c);else{var p=new NewaboutsService({description:c});p.$save(function(){},function(g){t.error=g.data.message}),s.reload()}},u.delete=function(c){confirm('Are you sure you want to delete this?')&&(c.$delete(function(){},function(g){t.error=g.data.message}),s.reload())},u.modalEdit=function(c,p){var g=n.open({templateUrl:'modules/newabouts/client/views/newabouts-edit-modal.client.view.html',controller:['$scope','$modalInstance','award',function(w,v,f){w.award=f,w.ok=function(){var h=document.getElementById('description').value;''===h||v.close(w.award)},w.cancel=function(){v.dismiss('cancel')}}],size:p,resolve:{award:function(){return c}}});g.result.then(function(w){t.selected=w},function(){l.info('Modal dismissed at: '+new Date)})},u.modalTableEdit=function(c,p){var g=n.open({templateUrl:'modules/newabouts/client/views/profiles-edit-modal.client.view.html',controller:['$scope','$modalInstance','profile',function(w,v,f){w.profile=f,w.ok=function(){var h=document.getElementById('name').value,$=document.getElementById('description').value;''===h||''===$||v.close(w.profile)},w.cancel=function(){v.dismiss('cancel'),w.newfilename=null,w.newimageURL=null}}],size:p,resolve:{profile:function(){return c}}});g.result.then(function(w){t.selected=w},function(){l.info('Modal dismissed at: '+new Date)})},u.modalAdd=function(c){var p=n.open({templateUrl:'modules/newabouts/client/views/profiles-add-modal.client.view.html',controller:['$scope','$modalInstance',function(g,w){g.ok=function(){var v=document.getElementById('name').value,f=document.getElementById('description').value;''===v||''===f||w.close(g.profile)},g.cancel=function(){w.dismiss('cancel'),g.newfilename=null,g.newimageURL=null}}],size:c,resolve:{profile:function(){}}});p.result.then(function(g){t.selected=g},function(){l.info('Modal dismissed at: '+new Date)})}}angular.module('newabouts').controller('NewaboutsController',e),e.$inject=['$scope','$state','$window','Authentication','$log','$modal','newaboutResolve']}(),function(){'use strict';function e(t){return t('api/newabouts/:newaboutId',{newaboutId:'@_id'},{update:{method:'PUT'}})}angular.module('newabouts').factory('NewaboutsService',e),e.$inject=['$resource']}(),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'News',state:'news',type:'dropdown',roles:['*']}),t.addSubMenuItem('topbar','news',{title:'List News',state:'news.list'}),t.addSubMenuItem('topbar','news',{title:'Create News',state:'news.create',roles:['admin']})}angular.module('news').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(r){r.state('news',{abstract:!0,url:'/news',template:'<ui-view/>'}).state('news.list',{url:'',templateUrl:'modules/news/client/views/list-news.client.view.html',controller:'NewsListController',controllerAs:'vm',data:{pageTitle:'News List'}}).state('news.create',{url:'/create',templateUrl:'modules/news/client/views/form-news.client.view.html',controller:'NewsController',controllerAs:'vm',resolve:{newsResolve:s},data:{roles:['user','admin'],pageTitle:'News Create'}}).state('news.edit',{url:'/:newsId/edit',templateUrl:'modules/news/client/views/form-news.client.view.html',controller:'NewsController',controllerAs:'vm',resolve:{newsResolve:t},data:{roles:['user','admin'],pageTitle:'Edit News {{ newsResolve.name }}'}}).state('news.view',{url:'/:newsId',templateUrl:'modules/news/client/views/view-news.client.view.html',controller:'NewsController',controllerAs:'vm',resolve:{newsResolve:t},data:{pageTitle:'News {{ newsResolve.name }}'}})}function t(r,o){return o.get({newsId:r.newsId}).$promise}function s(r){return new r}angular.module('news').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','NewsService'],s.$inject=['NewsService']}(),function(){'use strict';function e(t,s,r){var o=this;t.user=r.user,o.news=s.query()}angular.module('news').controller('NewsListController',e),e.$inject=['$scope','NewsService','Authentication']}(),function(){'use strict';function e(t,s,r,o,l,n){var m=this;t.usersList=n.query(),t.user='HI',t.currUserRole=o.user.roles[0],m.authentication=o,m.news=l,m.error=null,m.form={},m.remove=function(){r.confirm('Are you sure you want to delete "'+m.news.name+'"?')&&m.news.$remove(s.go('news.list'))},m.save=function(u){function c(g){s.go('news.list',{newsId:g._id})}function p(g){m.error=g.data.message}return console.log(t.usersList),console.log(m.authentication),console.log(t.currUserRole),console.log(l),u?void(m.news._id?m.news.$update(c,p):m.news.$save(c,p)):(t.$broadcast('show-errors-check-validity','vm.form.newsForm'),!1)}}angular.module('news').controller('NewsController',e),e.$inject=['$scope','$state','$window','Authentication','newsResolve','Admin']}(),function(){'use strict';function e(t){return t('api/news/:newsId',{newsId:'@_id'},{update:{method:'PUT'}})}angular.module('news').factory('NewsService',e),e.$inject=['$resource']}(),function(){'use strict';function e(t){t.addMenuItem('topbar',{title:'List of Members',state:'pendingrequets.list',roles:['admin']}),t.addSubMenuItem('topbar','pendingrequets',{title:'Join Now',state:'pendingrequets.create'})}angular.module('pendingrequets').run(e),e.$inject=['Menus']}(),function(){'use strict';function e(o){o.state('pendingrequets',{url:'/pendingrequets',template:'<ui-view/>'}).state('pendingrequets.list',{url:'/list',templateUrl:'modules/pendingrequets/client/views/list-pendingrequets.client.view.html',controller:'PendingrequetsListController',controllerAs:'vm',resolve:{pendingrequetResolve:s},data:{pageTitle:'Pendingrequets List',roles:['admin']}}).state('pendingrequets.create',{url:'/create',templateUrl:'modules/pendingrequets/client/views/form-pendingrequet.client.view.html',controller:'PendingrequetsController',controllerAs:'vm',resolve:{pendingrequetResolve:r},data:{pageTitle:'Pendingrequets Create'}}).state('pendingrequets.view',{url:'/:pendingrequetId',templateUrl:'modules/pendingrequets/client/views/view-pendingrequet.client.view.html',controller:'PendingrequetsController',controllerAs:'vm',resolve:{pendingrequetResolve:t},data:{pageTitle:'Pendingrequet {{ pendingrequetResolve.name }}',roles:['admin']}})}function t(o,l){return l.get({pendingrequetId:o.pendingrequetId}).$promise}function s(o){return o.query().$promise}function r(o){return new o}angular.module('pendingrequets').config(e),e.$inject=['$stateProvider'],t.$inject=['$stateParams','PendingrequetsService'],s.$inject=['PendingrequetsService'],r.$inject=['PendingrequetsService']}(),function(){'use strict';function e(t){var s=this;s.pendingrequets=t.query()}angular.module('pendingrequets').controller('PendingrequetsListController',e),e.$inject=['PendingrequetsService']}(),function(){'use strict';function e(t,s,r,o,l,n,a,d,m,u,c,p){function g(){console.log('uploadAWS function called');var b=document.getElementById('file-input').files,I=b[0];w(I)}function w(b){var I=new XMLHttpRequest;$.pendingrequet.filename=b.name,I.open('GET',`/sign-s3?file-name=${b.name}&file-type=${b.type}`),I.onreadystatechange=()=>{if(4===I.readyState)if(200===I.status){const y=JSON.parse(I.responseText);v(b,y.signedRequest,y.url)}else console.log(I.status+': '+I.statusText)},I.send()}function v(b,I,y){const U=new XMLHttpRequest;U.open('PUT',I),U.onreadystatechange=()=>{4===U.readyState&&(200===U.status?($.pendingrequet.imageURL=y,console.log('AWS URL: '+y),console.log('Upload to AWS successful')):console.log(U.status+': '+U.statusText))},U.send(b)}var $=this;$.authentication=u,$.pendingrequet=p,$.error=null,$.form={},$.remove=function(){r.confirm('Are you sure you want to delete?')&&$.pendingrequet.$remove(s.go('pendingrequets.list'))},$.save=function(b){function I(){var M={contactName:$.pendingrequet.name,contactEmail:$.pendingrequet.email,contactMsg:'This email is to notify you that '+$.pendingrequet.name+' has submitted a new membership application.\n'};$.pendingrequet.selection4?(M.contactMsg+='The member wants to have a public profile with the following information:\n',M.contactMsg=M.contactMsg+'Description: '+$.pendingrequet.motivation+'. '+$.pendingrequet.interest+'\n',M.contactMsg=M.contactMsg+'ImageURL: '+$.pendingrequet.imageURL+'\n'):M.contactMsg+='The member does not want a public profile.\n',a.post('/api/auth/notification',M).success(function(){console.log('Successfully sent the email'),s.go('home')}).error(function(){console.log('Error sending the email')})}function y(U){$.error=U.data.message}return console.log('Inside save'),b?void($.pendingrequet._id?$.pendingrequet.$update(I,y):(console.log('Inside save but is Valid'),$.pendingrequet.$save(I,y))):(t.$broadcast('show-errors-check-validity','vm.form.pendingrequetForm'),!1)},d.name=$.pendingrequet.name,d.imageURL=$.pendingrequet.imageURL,d.interest=$.pendingrequet.interest,d.motivation=$.pendingrequet.motivation,t.clicked=function(){$.pendingrequet.selection4?t.showForm=!0:(t.showForm=!1,$.pendingrequet.interest='',$.pendingrequet.motivation='')},t.goToPay=function(){o.open({templateUrl:'modules/joins/client/views/modal-join.client.view.html',controller:'JoinsController'}).result.then(function(){r.location.href='https://squareup.com/store/UFLAAW'})},t.cancelForm=function(){s.go('joins')},t.fillFields=function(){$.pendingrequet.imageURL&&'https://s3.us-east-2.amazonaws.com/aawufimages/'!==$.pendingrequet.imageURL?(console.log('Inside fillFields Image URL is: '+$.pendingrequet.imageURL),t.imageURL=$.pendingrequet.imageURL):t.imageURL='modules/pendingrequets/client/img/memberImages/default.png'},t.uploader=new c({url:'/api/pendingrequets/picture',alias:'newMemberPicture'}),t.uploader.filters.push({name:'imageFilter',fn:function(b){var y='|'+b.type.slice(b.type.lastIndexOf('/')+1)+'|';return-1!=='|jpg|png|jpeg|bmp|gif|'.indexOf(y)}}),t.uploader.onAfterAddingFile=function(b){if(console.log('onAfterAddingFile'),r.FileReader){var I=new FileReader;I.readAsDataURL(b._file),I.onload=function(y){l(function(){t.imageURL=y.target.result,t.uploadPicture()},0)}}},t.uploader.onSuccessItem=function(){console.log('onSuccessItem'),t.success=!0,g()},t.uploader.onErrorItem=function(b,I){t.cancelUpload(),t.error=I.message},t.uploadPicture=function(){console.log('upload Picture'),t.success=t.error=null,t.uploader.uploadAll()},t.cancelUpload=function(){t.uploader.clearQueue(),t.imageURL=''}}angular.module('pendingrequets').controller('PendingrequetsController',e),e.$inject=['$scope','$state','$window','$modal','$timeout','$location','$http','$rootScope','MembersService','Authentication','FileUploader','pendingrequetResolve']}(),function(){'use strict';function e(t){return t('api/pendingrequets/:pendingrequetId',{pendingrequetId:'@_id'},{update:{method:'PUT'}})}angular.module('pendingrequets').factory('PendingrequetsService',e),e.$inject=['$resource']}(),'use strict',angular.module('users.admin').run(['Menus',function(e){e.addSubMenuItem('topbar','admin',{title:'Manage Users',state:'admin.users'})}]),'use strict',angular.module('users.admin.routes').config(['$stateProvider',function(e){e.state('admin.users',{url:'/users',templateUrl:'modules/users/client/views/admin/list-users.client.view.html',controller:'UserListController'}).state('admin.user',{url:'/users/:userId',templateUrl:'modules/users/client/views/admin/view-user.client.view.html',controller:'UserController',resolve:{userResolve:['$stateParams','Admin',function(t,s){return s.get({userId:t.userId})}]}}).state('admin.user-edit',{url:'/users/:userId/edit',templateUrl:'modules/users/client/views/admin/edit-user.client.view.html',controller:'UserController',resolve:{userResolve:['$stateParams','Admin',function(t,s){return s.get({userId:t.userId})}]}})}]),'use strict',angular.module('users').config(['$httpProvider',function(e){e.interceptors.push(['$q','$location','Authentication',function(t,s,r){return{responseError:function(o){switch(o.status){case 401:r.user=null,s.path('signin');break;case 403:}return t.reject(o)}}}])}]),'use strict',angular.module('users').config(['$stateProvider',function(e){e.state('settings',{abstract:!0,url:'/settings',templateUrl:'modules/users/client/views/settings/settings.client.view.html',data:{roles:['user','admin']}}).state('settings.profile',{url:'/profile',templateUrl:'modules/users/client/views/settings/edit-profile.client.view.html'}).state('settings.password',{url:'/password',templateUrl:'modules/users/client/views/settings/change-password.client.view.html'}).state('settings.accounts',{url:'/accounts',templateUrl:'modules/users/client/views/settings/manage-social-accounts.client.view.html'}).state('settings.picture',{url:'/picture',templateUrl:'modules/users/client/views/settings/change-profile-picture.client.view.html'}).state('authentication',{abstract:!0,url:'/authentication',templateUrl:'modules/users/client/views/authentication/authentication.client.view.html'}).state('authentication.signup',{url:'/signup',templateUrl:'modules/users/client/views/authentication/signup.client.view.html'}).state('authentication.signin',{url:'/signin?err',templateUrl:'modules/users/client/views/authentication/signin.client.view.html'}).state('password',{abstract:!0,url:'/password',template:'<ui-view/>'}).state('password.forgot',{url:'/forgot',templateUrl:'modules/users/client/views/password/forgot-password.client.view.html'}).state('password.reset',{abstract:!0,url:'/reset',template:'<ui-view/>'}).state('password.reset.invalid',{url:'/invalid',templateUrl:'modules/users/client/views/password/reset-password-invalid.client.view.html'}).state('password.reset.success',{url:'/success',templateUrl:'modules/users/client/views/password/reset-password-success.client.view.html'}).state('password.reset.form',{url:'/:token',templateUrl:'modules/users/client/views/password/reset-password.client.view.html'})}]),'use strict',angular.module('users.admin').controller('UserListController',['$scope','$filter','Admin',function(e,t,s){s.query(function(r){e.users=r,e.buildPager()}),e.buildPager=function(){e.pagedItems=[],e.itemsPerPage=15,e.currentPage=1,e.figureOutItemsToDisplay()},e.figureOutItemsToDisplay=function(){e.filteredItems=t('filter')(e.users,{$:e.search}),e.filterLength=e.filteredItems.length;var r=(e.currentPage-1)*e.itemsPerPage,o=r+e.itemsPerPage;e.pagedItems=e.filteredItems.slice(r,o)},e.pageChanged=function(){e.figureOutItemsToDisplay()}}]),'use strict',angular.module('users.admin').controller('UserController',['$scope','$state','Authentication','userResolve',function(e,t,s,r){e.authentication=s,e.user=r,e.remove=function(o){confirm('Are you sure you want to delete this user?')&&(o?(o.$remove(),e.users.splice(e.users.indexOf(o),1)):e.user.$remove(function(){t.go('admin.users')}))},e.update=function(o){if(!o)return e.$broadcast('show-errors-check-validity','userForm'),!1;var l=e.user;l.$update(function(){t.go('admin.user',{userId:l._id})},function(n){e.error=n.data.message})}}]),'use strict',angular.module('users').controller('AuthenticationController',['$scope','$state','$http','$location','$window','Authentication','PasswordValidator',function(e,t,s,r,o,l,n){e.authentication=l,e.popoverMsg=n.getPopoverMsg(),e.error=r.search().err,e.authentication.user&&r.path('/'),e.signup=function(a){return e.error=null,a?void s.post('/api/auth/signup',e.credentials).success(function(d){e.authentication.user=d,t.go('home')}).error(function(d){e.error=d.message}):(e.$broadcast('show-errors-check-validity','userForm'),!1)},e.signin=function(a){return e.error=null,a?void s.post('/api/auth/signin',e.credentials).success(function(d){e.authentication.user=d,t.go('home')}).error(function(d){e.error=d.message}):(e.$broadcast('show-errors-check-validity','userForm'),!1)},e.callOauthProvider=function(a){t.previous&&t.previous.href&&(a+='?redirect_to='+encodeURIComponent(t.previous.href)),o.location.href=a}}]),'use strict',angular.module('users').controller('PasswordController',['$scope','$stateParams','$http','$location','Authentication','PasswordValidator',function(e,t,s,r,o,l){e.authentication=o,e.popoverMsg=l.getPopoverMsg(),e.authentication.user&&r.path('/'),e.askForPasswordReset=function(n){return e.success=e.error=null,n?void s.post('/api/auth/forgot',e.credentials).success(function(a){e.credentials=null,e.success=a.message}).error(function(a){e.credentials=null,e.error=a.message}):(e.$broadcast('show-errors-check-validity','forgotPasswordForm'),!1)},e.resetUserPassword=function(n){return e.success=e.error=null,n?void s.post('/api/auth/reset/'+t.token,e.passwordDetails).success(function(a){e.passwordDetails=null,o.user=a,r.path('/password/reset/success')}).error(function(a){e.error=a.message}):(e.$broadcast('show-errors-check-validity','resetPasswordForm'),!1)}}]),'use strict',angular.module('users').controller('ChangePasswordController',['$scope','$http','Authentication','PasswordValidator',function(e,t,s,r){e.user=s.user,e.popoverMsg=r.getPopoverMsg(),e.changeUserPassword=function(o){return e.success=e.error=null,o?void t.post('/api/users/password',e.passwordDetails).success(function(){e.$broadcast('show-errors-reset','passwordForm'),e.success=!0,e.passwordDetails=null}).error(function(l){e.error=l.message}):(e.$broadcast('show-errors-check-validity','passwordForm'),!1)}}]),'use strict',angular.module('users').controller('ChangeProfilePictureController',['$scope','$timeout','$window','Authentication','FileUploader',function(e,t,s,r,o){e.user=r.user,e.imageURL=e.user.profileImageURL,e.uploader=new o({url:'api/users/picture',alias:'newProfilePicture'}),e.uploader.filters.push({name:'imageFilter',fn:function(l){var a='|'+l.type.slice(l.type.lastIndexOf('/')+1)+'|';return-1!=='|jpg|png|jpeg|bmp|gif|'.indexOf(a)}}),e.uploader.onAfterAddingFile=function(l){if(s.FileReader){var n=new FileReader;n.readAsDataURL(l._file),n.onload=function(a){t(function(){e.imageURL=a.target.result},0)}}},e.uploader.onSuccessItem=function(l,n){e.success=!0,e.user=r.user=n,e.cancelUpload()},e.uploader.onErrorItem=function(l,n){e.cancelUpload(),e.error=n.message},e.uploadProfilePicture=function(){e.success=e.error=null,e.uploader.uploadAll()},e.cancelUpload=function(){e.uploader.clearQueue(),e.imageURL=e.user.profileImageURL}}]),'use strict',angular.module('users').controller('EditProfileController',['$scope','$http','$location','Users','Authentication',function(e,t,s,r,o){e.user=o.user,e.updateUserProfile=function(l){if(e.success=e.error=null,!l)return e.$broadcast('show-errors-check-validity','userForm'),!1;var n=new r(e.user);n.$update(function(a){e.$broadcast('show-errors-reset','userForm'),e.success=!0,o.user=a},function(a){e.error=a.data.message})}}]),'use strict',angular.module('users').controller('SocialAccountsController',['$scope','$http','Authentication',function(e,t,s){e.user=s.user,e.hasConnectedAdditionalSocialAccounts=function(){for(var o in e.user.additionalProvidersData)return!0;return!1},e.isConnectedSocialAccount=function(r){return e.user.provider===r||e.user.additionalProvidersData&&e.user.additionalProvidersData[r]},e.removeUserSocialAccount=function(r){e.success=e.error=null,t.delete('/api/users/accounts',{params:{provider:r}}).success(function(o){e.success=!0,e.user=s.user=o}).error(function(o){e.error=o.message})}}]),'use strict',angular.module('users').controller('SettingsController',['$scope','Authentication',function(e,t){e.user=t.user}]),'use strict',angular.module('users').directive('passwordValidator',['PasswordValidator',function(e){return{require:'ngModel',link:function(t,s,r,o){o.$validators.requirements=function(l){var n=!0;if(l){var a=e.getResult(l),d=0,m=[{color:'danger',progress:'20'},{color:'warning',progress:'40'},{color:'info',progress:'60'},{color:'primary',progress:'80'},{color:'success',progress:'100'}];a.errors.length<m.length&&(d=m.length-a.errors.length-1),t.requirementsColor=m[d].color,t.requirementsProgress=m[d].progress,a.errors.length?(t.popoverMsg=e.getPopoverMsg(),t.passwordErrors=a.errors,n=!1):(t.popoverMsg='',t.passwordErrors=[],n=!0)}return n}}}}]),'use strict',angular.module('users').directive('passwordVerify',[function(){return{require:'ngModel',scope:{passwordVerify:'='},link:function(e,t,s,r){e.$watch(function(){var l;return(e.passwordVerify||r)&&(l=e.passwordVerify+'_'+r),l},function(l){l&&(r.$validators.passwordVerify=function(n){var a=e.passwordVerify;return!(a!==n)})})}}}]),'use strict',angular.module('users').directive('lowercase',function(){return{require:'ngModel',link:function(e,t,s,r){r.$parsers.push(function(o){return o?o.toLowerCase():''}),t.css('text-transform','lowercase')}}}),'use strict',angular.module('users').factory('Authentication',['$window',function(e){var t={user:e.user};return t}]),'use strict',angular.module('users').factory('PasswordValidator',['$window',function(e){var t=e.owaspPasswordStrengthTest;return{getResult:function(s){var r=t.test(s);return r},getPopoverMsg:function(){return'Please enter a passphrase or password with greater than 10 characters, numbers, lowercase, upppercase, and special characters.'}}}]),'use strict',angular.module('users').factory('Users',['$resource',function(e){return e('api/users',{},{update:{method:'PUT'}})}]),angular.module('users.admin').factory('Admin',['$resource',function(e){return e('api/users/:userId',{userId:'@_id'},{update:{method:'PUT'}})}]);